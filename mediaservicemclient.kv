#:kivy 1.10.0
#:import hex kivy.utils.get_color_from_hex
<ProgressBarLabel@Label>
    size_hint_y: None
    height: dp(400)
    size_hint_x: None
    width: dp(400)
    pos_hint:{'center_x': 0.5, 'center_y': 0.5}


<SettingsViewItem>:
    id: settings_view_i
    orientation: 'horizontal'
    size_hint_y: .4
#    size:(400, 400)
#        size_hint:(None, None)
    canvas.before:
        Color:
            rgba: hex('#ffa500')
        Rectangle:
            # self here refers to the widget i.e BoxLayout
            pos: self.pos
            size: self.size
    Label:
        id: settings_view_i_name
        size_hint_x: .8
        text: ''
    CheckBox:
        id: settings_view_i_check
        size_hint_x: .2
        group: 'settings_address_setter'
        on_press: root.return_on_active_name(self.active, settings_view_i_name.text)

<SettingsView>:
    name: 'settings'
    orientation: 'vertical'
    id: settings_view

    BoxLayout:
        orientation: 'vertical'
        id: settings_view_container
        opacity: 1
        canvas.before:
            Color:
                rgba: 0.2, 0.5, 0.8, 1
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            id: settings_view_container_back_button_container
            opacity: 1
            size_hint_y: 0.2
            canvas.before:
                Color:
                    rgba: 0.2, 0.5, 0.8, 1
                Rectangle:
                    # self here refers to the widget i.e BoxLayout
                    pos: self.pos
                    size: self.size
            Button:
                text: 'Back'
                on_release: root.return_to_main_view()
        BoxLayout:
            orientation: 'vertical'
            id: settings_view_container_list_container
            opacity: 1
            size_hint_y: 0.6
            canvas.before:
                Color:
                    rgba: 0.2, 0.5, 0.8, 1
                Rectangle:
                    # self here refers to the widget i.e BoxLayout
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: 'vertical'
            id: settings_view_container_scan_again
            opacity: 1
            size_hint_y: 0.2
            canvas.before:
                Color:
                    rgba: 0.2, 0.5, 0.8, 1
                Rectangle:
                    # self here refers to the widget i.e BoxLayout
                    pos: self.pos
                    size: self.size
            Button:
                text: 'Scan Again'
                on_release: root.scan_again()

        BoxLayout:
            id: settings_view_save_button_container
            size_hint_y: .2
            orientation: 'horizontal'
            FloatLayout:

                Button:
                    id: settings_save_chosen_device_and_go_to_main
                    text: 'Save'
                    size_hint_x: None
                    size_hint_y: None
                    width: dp(200)
                    height: dp(70)
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    background_down: "./images/b_b.png"
                    background_normal: "./images/b_a.png"
                    on_release: root.save_settings()
#
#            Label:
#                text: 'scanned 1'
#            Label:
#                text: 'scanned 2'


#        Label:
#            id: vvv
#            size_hint_y: 1
#            size_hint_x: 1
#
#            opacity: 0.9
#            pos_hint:{'center_x': 0.5, 'center_y': 0.5}
#
#            canvas.before:
#                Rectangle:
#                    pos: self.pos
#                    size: self.size
#                    source: 'logo.png'

<ScanView>:
    name: 'scan'
    orientation: 'vertical'
    id: scan_view
    save_button: save_chosen_device_and_go_to_main.disabled

    BoxLayout:
        orientation: 'vertical'
        id: scan_view_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#000000')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
        BoxLayout:
            size_hint_y: .2
            Label:
                text: 'Scanned devices'
                opacity: .8
                font_hinting: 'mono'
                font_size: dp(40)
                canvas.before:
                    Color:
                        rgba: hex('#ffa500')
                    Rectangle:
                        # self here refers to the widget i.e BoxLayout
                        pos: self.pos
                        size: self.size
        BoxLayout:
            id: scanned_devices_list
            size_hint_y: .6
            GridLayout:
                id: scanned_devices_list_grid
                cols:1
                rows: 3
                size_hint_y: 1
                padding: 45,45,45,45
                spacing: 45,45

        BoxLayout:
            id: scan_view_button_container
            size_hint_y: .2
            orientation: 'horizontal'
            FloatLayout:

                Button:
                    id: save_chosen_device_and_go_to_main
                    text: 'Save'
                    size_hint_x: None
                    size_hint_y: None
                    width: dp(200)
                    height: dp(70)
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    background_down: "./images/b_b.png"
                    background_normal: "./images/b_a.png"
                    on_release: root.save_and_go_to_main()

#        Label:
#            id: vvv
#            size_hint_y: 1
#            size_hint_x: 1
#
#            opacity: 0.9
#            pos_hint:{'center_x': 0.5, 'center_y': 0.5}
#
#            canvas.before:
#                Rectangle:
#                    pos: self.pos
#                    size: self.size
#                    source: 'logo.png'
<MainView>:
    name: 'main'
    orientation: 'vertical'
    connection_status_indicator: status_flagger.active
    on_enter: root.connect_on_enter()
    BoxLayout:
        id: main_view_c
        orientation: 'vertical'


        BoxLayout:
            orientation: 'vertical'
            id: main_view_container
            opacity: 1
            BoxLayout:
                size_hint_y: .09
                id: navigation_a
                orientation: 'horizontal'
                canvas.before:

                    Color:
                        rgba: hex('#000000')
                    Rectangle:
                        # self here refers to the widget i.e BoxLayout
                        pos: self.pos
                        size: self.size

                BoxLayout:
                    id: search
#                    pos_hint:{'center_x': 0.7, 'center_y': 0.5}
#                    size_hint_y: None

#                    size_hint_x: None

                    Button:
                        text: 'search'
#                        width: dp(50)
    #                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}

                        on_release: root.set_as_current_screen_seartch('search_view', mov_b, lat_b, ser_b)
                BoxLayout:
                    id:filter_modal
#                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
#                    size_hint_y: None

#                    size_hint_x: None

                    Button:
                        text: 'filter'
#                        width: dp(50)
    #                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}

                        on_release: root.open_modal_view()


                BoxLayout:
                    id: settings_button
#                    pos_hint:{'center_x': 0.3, 'center_y': 0.5}
#                    size_hint_y: None

#                    size_hint_x: None

                    Button:
                        text: 'settings'
#                        width: dp(50)
    #                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}

                        on_release: root.navigate_to_settings()
                BoxLayout:
                    id: connection_status_ind
                    orientation: 'vertical'
#                    pos_hint:{'center_x': 0.3, 'center_y': 0.5}
#                    size_hint_y: None

#                    size_hint_x: None
                    Switch:
                        id: status_flagger
                        opacity: 0
                        size_hint_y:0
                        active: False
                        on_active: root.update_status_in(self.active)
                    Image:
                        id: connection_status_ind_l
                        source: 'images/gr.png'

            BoxLayout:
                id: navigation_b
                orientation: 'horizontal'
                size_hint_y: .09

                Button:
                    text: 'movies'
                    id: mov_b
#                    width: dp(50)

    #                pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    background_normal: "./images/n_n.png"
                    on_release: root.set_as_current_screen(self, 'movies_view', ser_b, lat_b)
                Button:
                    text: 'series'
                    id: ser_b
#                    width: dp(50)
    #                pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    background_normal: "./images/n_n.png"
                    on_release: root.set_as_current_screen(self,'series_view', mov_b, lat_b)
                Button:
                    text: 'latest'
                    id: lat_b
#                    width: dp(50)
    #                pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    background_normal: "./images/n_n.png"
                    on_release: root.set_as_current_screen(self,'latest_view', mov_b, ser_b)
            BoxLayout:
                id: screen_m_container
                size_hint_y: .82

                canvas.before:

                    Color:
                        rgba: hex('#ffa500')
                    Rectangle:
                        # self here refers to the widget i.e BoxLayout
                        pos: self.pos
                        size: self.size


    #                LatestView:
    #
    #
    #                MoviesView:
    #
    #                SeriesView:
    #
    #                SearchView:


    #        Label:
    #            id: dd
    #            size_hint_y: 1
    #            size_hint_x: 1
    #
    #            opacity: 0.9
    #            pos_hint:{'center_x': 0.5, 'center_y': 0.5}
    #
    #            canvas.before:
    #                Rectangle:
    #                    pos: self.pos
    #                    size: self.size
    #                    source: 'logo.png'
<Progression>:
    orientation: 'vertical'
    id: progression_view

    BoxLayout:
        orientation: 'vertical'
        id: progress_bar_container
        opacity: 1
        FloatLayout:
            ProgressBarLabel:
                id: progress_bar_main_image
                opacity: 0.0
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: 'images/logo.png'
            ProgressBarLabel:
                id: progress_bar_overlay_image
                opacity: 1
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: 'images/logon.png'

<SearchView>:
    name: 'search_view'

    BoxLayout:
        orientation: 'vertical'
        id: search_view_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#8b4513')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
        Label:
            text: root.name

<SeriesViewMainSingle>:
    BoxLayout:
        id: svmsingle
        orientation: 'vertical'
    #    size:(400, 400)
#        size_hint:(None, None)
        canvas.before:
            Color:
                rgba: hex('#000000')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
<SeriesViewMain>:
    BoxLayout:
        orientation: 'vertical'
        id: series_view_main_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#ffa500')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size

<SeriesView>:
    name: 'series_view'
    BoxLayout:
        orientation: 'vertical'
        id: series_view_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#ffa500')
            Rectangle:

                pos: self.pos
                size: self.size
        BoxLayout:
            id: series_pag_holder
            size_hint_y: .09
            padding: 5,0
            canvas.before:
                Color:
                    rgba: hex('#000000')
                Rectangle:

                    pos: self.pos
                    size: self.size
        BoxLayout:
            id: ser_view_holder
            size_hint_y: .91
            canvas.before:
                Color:
                    rgba: hex('#ffa500')
                Rectangle:

                    pos: self.pos
                    size: self.size

<MoviesViewMainSingle>:
    BoxLayout:
        id: mvmsingle
        orientation: 'vertical'
    #    size:(400, 400)
#        size_hint:(None, None)
        canvas.before:
            Color:
                rgba: hex('#ffa500')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
<MoviesViewMain>:
    BoxLayout:
        orientation: 'vertical'
        id: movies_view_main_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#ffa500')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size

<MoviesView>:
    name: 'movies_view'
    BoxLayout:
        orientation: 'vertical'
        id: movies_view_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#ffa500')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
        BoxLayout:
            id: movies_pag_holder
            size_hint_y: .09
            canvas.before:
                Color:
                    rgba: hex('#000000')
                Rectangle:
                    # self here refers to the widget i.e BoxLayout
                    pos: self.pos
                    size: self.size
        BoxLayout:
            id: mov_view_holder
            size_hint_y: .91
            canvas.before:
                Color:
                    rgba: hex('#000000')
                Rectangle:
                    # self here refers to the widget i.e BoxLayout
                    pos: self.pos
                    size: self.size
#        Label:
#            text: root.name

<LatestView>:
    name: 'latest_view'
    BoxLayout:
        orientation: 'vertical'
        id: latest_view_container
        opacity: 1
        canvas.before:
            Color:
                rgba: hex('#e6e8fa')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
        Label:
            text: root.name
        TextInput:
            id: bbb


        Button:
            text: 'send'
            on_release: root.cc(bbb.text)
        Button:
            text: 'reconnet'
            on_release: root.reconnect()
<Item>:
    id: ite
    orientation: 'vertical'
#    size:(400, 400)
    size_hint:(None, None)
    canvas.before:
        Color:
            rgba: hex('#00000')
        Rectangle:
            # self here refers to the widget i.e BoxLayout
            pos: self.pos
            size: self.size

<ScanViewItem>:
    id: scan_view_i
    orientation: 'horizontal'
    size_hint_y: .4
#    size:(400, 400)
#        size_hint:(None, None)
    canvas.before:
        Color:
            rgba: hex('#ffa500')
        Rectangle:
            # self here refers to the widget i.e BoxLayout
            pos: self.pos
            size: self.size
    Label:
        id: scan_view_i_name
        size_hint_x: .8
        text: ''
    CheckBox:
        id: scan_view_i_check
        size_hint_x: .2
        group: 'address_setter'
        on_press: root.return_on_active_name(self.active, scan_view_i_name.text)


<FilterModalView>:
    auto_dismiss: True
    size_hint: (None, None)
    BoxLayout:
        id: filter_view_container
        orientation: 'vertical'
        BoxLayout:
            orientation: 'vertical'
            Spinner:
                text: 'Genre'
                values: ['action','adventure','animation','comedy','crime','documentary','drama','eastern','family','fan-film','fantasy','film-noir','history','horror','indie','mystery','none','romance','science-fiction','thriller','tv-movie','western']

            Spinner:
                text: 'order'
                values: ['-1','1']
            Spinner:
                text: 'sort'
                values: ['name','rating','trending','updated','year','last added']

<ConnectionErrorPopup>:
    auto_dismiss: False
    size_hint: (None, None)
    separator_color: hex('#ffa500')
    title: 'Connection error'
    title_align: 'center'
    BoxLayout:
        id: con_er_m
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: hex('#000000')
            Rectangle:
                # self here refers to the widget i.e BoxLayout
                pos: self.pos
                size: self.size
        Label:
            text: 'No connection to internet'

        Button:
            text: 'Retry'
            size_hint_x: None
            size_hint_y: None
            width: dp(200)
            height: dp(70)
            pos_hint:{'center_x': 0.5, 'center_y': 0.5}
            background_down: "./images/b_b.png"
            background_normal: "./images/b_a.png"
            on_release: root.retry()

        Button:
            text: 'Quit'
            size_hint_x: None
            size_hint_y: None
            width: dp(200)
            height: dp(70)
            pos_hint:{'center_x': 0.5, 'center_y': 0.5}
            background_down: "./images/b_b.png"
            background_normal: "./images/b_a.png"
            on_release: root.quit_app_cl()

<LoaderOverlay>:
    auto_dismiss: True
    size_hint: (None, None)
    background: './images/tb.png'
    BoxLayout:
        id: lo_container
        Image:
            source: './images/logo.png'